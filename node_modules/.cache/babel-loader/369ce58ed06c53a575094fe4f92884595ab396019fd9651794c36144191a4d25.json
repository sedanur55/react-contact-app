{"ast":null,"code":"module.exports = ErrorPage;\nvar http = require('http'),\n  CODES = http.STATUS_CODES,\n  util = require('util');\nfunction ErrorPage(req, res, opts) {\n  opts = opts || {};\n  return error;\n  function error() {\n    var code, er, headers, message, handler;\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      switch (typeof arg) {\n        case 'number':\n          code = arg;\n          break;\n        case 'string':\n          if (res.template && res.template.has && res.template.has(arg)) {\n            handler = arg;\n          } else {\n            message = arg;\n          }\n          break;\n        case 'function':\n          handler = arg;\n          break;\n        case 'object':\n          if (!arg) break;\n          if (arg instanceof Error) {\n            er = arg;\n          } else {\n            headers = headers || {};\n            Object.keys(arg).forEach(function (k) {\n              if (k === 'statusCode' || k === 'cookie' || k === 'set-cookie') return;\n              headers[k] = arg[k];\n            });\n          }\n          if (arg.statusCode && !code) code = arg.statusCode;\n          break;\n      }\n    }\n    if (!code) code = 500;\n    if (!message) {\n      if (er) {\n        message = er.message;\n      } else {\n        message = CODES[code];\n      }\n    }\n\n    // now we have the args we care about\n\n    // we might have a templater or something hooked up\n    var xx = Math.floor(code / 100) + 'xx';\n    handler = handler || opts[code] || opts[xx] || opts['*'] || defHandler;\n    if (typeof handler === 'string') {\n      // templar integration\n      if (res.template && res.template.has && res.template.has(handler)) {\n        handler = function (template) {\n          return function (req, res, data) {\n            res.template(template, data, code);\n          };\n        }(handler);\n      } else {\n        // just a random string.\n        handler = function (str) {\n          return function (req, res, data) {\n            res.end(str);\n          };\n        }(handler);\n      }\n    }\n    res.statusCode = code;\n    if (headers) Object.keys(headers).forEach(function (k) {\n      res.setHeader(k, headers[k]);\n    });\n    var data = {\n      message: message,\n      code: code,\n      statusCode: code,\n      error: er,\n      options: opts,\n      request: req.method + ' ' + req.url,\n      headers: req.headers,\n      url: req.url\n    };\n    if (opts.debug) {\n      data.stack = new Error(message).stack;\n    }\n    return handler(req, res, data);\n  }\n}\n\n// TODO: Maybe if there's a logger on the req/res already,\n// it should use that?\nfunction defHandler(req, res, data) {\n  res.setHeader('content-type', 'text/plain');\n  if (data.headers) {\n    data.headers = Object.keys(data.headers).filter(function (k) {\n      return k !== 'cookie' && k !== 'set-cookie';\n    }).reduce(function (h, k) {\n      h[k] = req.headers[k];\n      return h;\n    }, {});\n  }\n  var d,\n    m = data.code + ' ' + data.message + ' ' + req.url,\n    logger = data.options.log || console.error;\n  d = util.inspect(data);\n  logger(new Date().toISOString() + ' ' + m);\n  if (data.options.debug) {\n    m += '\\n' + data.stack + '\\n' + d;\n  }\n  res.end(m + '\\n');\n}","map":{"version":3,"names":["module","exports","ErrorPage","http","require","CODES","STATUS_CODES","util","req","res","opts","error","code","er","headers","message","handler","i","arguments","length","arg","template","has","Error","Object","keys","forEach","k","statusCode","xx","Math","floor","defHandler","data","str","end","setHeader","options","request","method","url","debug","stack","filter","reduce","h","d","m","logger","log","console","inspect","Date","toISOString"],"sources":["C:/Users/SedanurDurmuÅŸ/contact-app/node_modules/error-page/error-page.js"],"sourcesContent":["module.exports = ErrorPage\n\nvar http = require('http')\n, CODES = http.STATUS_CODES\n, util = require('util')\n\nfunction ErrorPage (req, res, opts) {\n  opts = opts || {}\n  return error\n\n  function error () {\n    var code, er, headers, message, handler\n    for (var i = 0; i < arguments.length; i ++) {\n      var arg = arguments[i]\n      switch (typeof arg) {\n        case 'number':\n          code = arg\n          break\n\n        case 'string':\n          if (res.template && res.template.has &&\n              res.template.has(arg)) {\n            handler = arg\n          } else {\n            message = arg\n          }\n          break\n\n        case 'function':\n          handler = arg\n          break\n\n        case 'object':\n          if (!arg) break\n          if (arg instanceof Error) {\n            er = arg\n          } else {\n            headers = headers || {}\n            Object.keys(arg).forEach(function (k) {\n              if (k === 'statusCode' ||\n                  k === 'cookie' ||\n                  k === 'set-cookie') return\n              headers[k] = arg[k]\n            })\n          }\n          if (arg.statusCode && !code) code = arg.statusCode\n          break\n      }\n    }\n\n    if (!code) code = 500\n\n    if (!message) {\n      if (er) {\n        message = er.message\n      } else {\n        message = CODES[code]\n      }\n    }\n\n    // now we have the args we care about\n\n    // we might have a templater or something hooked up\n    var xx = Math.floor(code / 100) + 'xx'\n    handler = handler ||\n              opts[code] ||\n              opts[xx] ||\n              opts['*'] ||\n              defHandler\n\n    if (typeof handler === 'string') {\n      // templar integration\n      if (res.template && res.template.has &&\n          res.template.has(handler)) {\n        handler = (function (template) {\n          return function (req, res, data) {\n            res.template(template, data, code)\n          }\n        })(handler)\n      } else {\n        // just a random string.\n        handler = (function (str) {\n          return function (req, res, data) {\n            res.end(str)\n          }\n        })(handler)\n      }\n    }\n\n    res.statusCode = code\n    if (headers) Object.keys(headers).forEach(function (k) {\n      res.setHeader(k, headers[k])\n    })\n\n\n    var data =\n      { message: message\n      , code: code\n      , statusCode: code\n      , error: er\n      , options: opts\n      , request: req.method + ' ' + req.url\n      , headers: req.headers\n      , url: req.url\n      }\n\n    if (opts.debug) {\n      data.stack = new Error(message).stack\n    }\n\n    return handler(req, res, data)\n  }\n}\n\n// TODO: Maybe if there's a logger on the req/res already,\n// it should use that?\nfunction defHandler (req, res, data) {\n  res.setHeader('content-type', 'text/plain')\n  if (data.headers) {\n    data.headers = Object.keys(data.headers).filter(function (k) {\n      return k !== 'cookie' && k !== 'set-cookie'\n    }).reduce(function (h, k) {\n      h[k] = req.headers[k]\n      return h\n    }, {})\n  }\n  var d, m = data.code + ' ' + data.message + ' ' + req.url\n    , logger = data.options.log || console.error\n  d = util.inspect(data)\n  logger(new Date().toISOString() + ' ' + m)\n  if (data.options.debug) {\n    m += '\\n' + data.stack + '\\n' + d\n  }\n  res.end(m + '\\n')\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}